(this["webpackJsonpweatherzone-react-redux"]=this["webpackJsonpweatherzone-react-redux"]||[]).push([[0],{179:function(e,t,a){},188:function(e,t,a){},206:function(e,t,a){},339:function(e,t,a){"use strict";a.r(t);var n=a(6),c=(a(179),a(0)),r=a.n(c),o=a(46),s=a.n(o),i=a(31),l=a(24),u=a.n(l),d=a(59),j=a(17),b=(a(188),a(67)),h=a(39),O=a(156),p=a(157),f=a(158),m=a.n(f),x=a(76),v=a.n(x),y={},g=[],_=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(b.a)(Object(b.a)({},{locdet:1,latlon:1,lt:"aploc",period:48,detail:2,u:1,format:"json"}),a),c={params:{lt:n.lt,lc:t,locdet:n.locdet,latlon:n.latlon,pdf:"twc(period=".concat(n.period,",detail=").concat(n.detail,")"),u:n.u,format:n.format}},e.abrupt("return",m.a.get("https://ws.weatherzone.com.au",c));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),A=function(e){var t=[];return e.forEach((function(e){t.push({name:v()(e.utc_time).format("ddd Do, h:mm a"),temp:e.temperature,speed:e.wind_speed,feelsLike:e.feels_like_c,humidity:e.relative_humidity})})),console.log("getWeatherData graphForecasts: ",t),function(e){e({type:"UPDATE_LOCATION_GRAPH_FORECASTS",payload:t})}},D=function(e,t){return function(){var a=Object(d.a)(u.a.mark((function a(n,c){var r,o,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!(r=c().forecast[e])||t.forceFetch){a.next=5;break}return console.log("updateWeatherData locationData exists return the same: "),a.abrupt("return",r);case 5:return a.next=7,_(e,{options:t});case 7:return o=a.sent,console.log("updateWeatherData RESPONSE: ",o.data),r=o.data.countries[0].locations[0],(s={})[e]=r,n({type:"ADD_LOCATION_FORECASTS",location:s}),a.abrupt("return",r);case 16:return a.prev=16,a.t0=a.catch(0),console.error("updateWeatherData ERR: ",a.t0),n({type:"ADD_PART_DAY_FORECASTS",error:a.t0}),a.abrupt("return",a.t0);case 21:case"end":return a.stop()}}),a,null,[[0,16]])})));return function(e,t){return a.apply(this,arguments)}}()},S=Object(h.combineReducers)({forecast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(console.log("store dispatch :: forecast ::: ",t.payload),t.type){case"ADD_LOCATION_FORECASTS":return Object(b.a)(Object(b.a)({},e),t.location);case"CLEAR_ALL_LOCATION_FORECASTS":return y;default:return e}},graphForecast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(console.log("store dispatch :: graphForecast ::: ",t),t.type){case"UPDATE_LOCATION_GRAPH_FORECASTS":return t.payload;default:return e}}}),C=Object(h.createStore)(S,Object(p.composeWithDevTools)(Object(h.applyMiddleware)(O.a))),T=(a(206),a(82)),w=a.n(T),N=0;var F=function(e){var t,a=Object(c.useState)(!0),r=Object(j.a)(a,2),o=r[0],s=r[1],l=Object(c.useState)(!0),u=Object(j.a)(l,2),d=u[0],b=u[1],h=Object(i.c)((function(t){return t.forecast[e.locationId]})),O=function(e){var t=w()(e).dayOfYear();return(0===N||t!==N)&&(N=t,!0)},p=function(e,t){return t?e:(e/1.852).toFixed(1)};return Object(n.jsxs)("div",{className:"forecast-table-container",children:[Object(n.jsxs)("div",{className:"forecast-table-options",children:[Object(n.jsx)("input",{type:"button",onClick:function(){s(!o)},value:"Toggle Temperature"}),Object(n.jsx)("input",{type:"button",onClick:function(){b(!d)},value:"Toggle Speed"})]}),Object(n.jsxs)("table",{className:"forecast",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{className:"date",children:"Date"}),Object(n.jsx)("th",{className:"chance",children:"Probability of Rain"}),Object(n.jsxs)("th",{className:"temp",children:["Temperature (",o?Object(n.jsx)(n.Fragment,{children:"\u2103"}):Object(n.jsx)(n.Fragment,{children:"\u2109"}),")"]}),Object(n.jsxs)("th",{className:"speed",children:["Wind Speed (",d?"Km/h":"knots",")"]}),Object(n.jsx)("th",{className:"direction",children:"Wind Direction"})]})}),null===h||void 0===h||null===(t=h.part_day_forecasts)||void 0===t?void 0:t.forecasts.map((function(e,t){return Object(n.jsxs)("tbody",{children:[O(e.utc_time)&&Object(n.jsx)("tr",{className:"new-day",children:Object(n.jsx)("td",{colSpan:5,children:w()(e.local_time).tz(e.time_zone).format("DD/MM/YY dddd z")})}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:w()(e.local_time).format("h:mm a")}),Object(n.jsx)("td",{children:e.precis}),Object(n.jsx)("td",{children:(a=e.temperature,c=o,c?a:(1.8*a+32).toFixed(1))}),Object(n.jsx)("td",{children:p(e.wind_speed,d)}),Object(n.jsx)("td",{children:e.wind_direction})]},t)]},t);var a,c}))]})]})},E=a(345),L=a(344),k=a(169),R=a(170),I=a(84),P=a(64),W=a(172);var K=function(e){var t=Object(c.useRef)(),a=Object(c.useState)(0),r=Object(j.a)(a,2),o=r[0],s=r[1],l=Object(i.c)((function(e){return e.graphForecast}));return Object(c.useEffect)((function(){s(t.current.offsetWidth-10)}),[]),Object(n.jsx)("div",{className:"App",children:Object(n.jsx)("div",{id:"graph-container",ref:t,children:Object(n.jsxs)(E.a,{width:o,height:300,data:l,children:[Object(n.jsx)(L.a,{strokeDasharray:"3 3"}),Object(n.jsx)(k.a,{dataKey:"name"}),Object(n.jsx)(R.a,{dataKey:"humidity"}),Object(n.jsx)(I.a,{}),Object(n.jsx)(P.a,{}),Object(n.jsx)(W.a,{type:"monotone",dataKey:"temp",stroke:"#CC0000",activeDot:{r:8}}),Object(n.jsx)(W.a,{type:"monotone",dataKey:"humidity",stroke:"#993333"}),Object(n.jsx)(W.a,{type:"monotone",dataKey:"feelsLike",stroke:"#cccc00"}),Object(n.jsx)(W.a,{type:"monotone",dataKey:"speed",stroke:"#33ccff"})]})})})},z=[{name:"Adelaide",value:12495},{name:"Brisbane",value:9388},{name:"Canberra",value:3928},{name:"Darwin",value:11},{name:"Hobart",value:15464},{name:"Melbourne",value:5594},{name:"Perth",value:13896},{name:"Sydney",value:624}];var M=function(){var e=Object(c.useState)(624),t=Object(j.a)(e,2),a=t[0],r=t[1],o=Object(i.b)(),s=Object(i.c)((function(e){return e.forecast[a]}));return Object(c.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(D(a,{}));case 2:return t=e.sent,e.next=5,o(A(t.part_day_forecasts.forecasts));case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),Object(c.useEffect)((function(){setTimeout((function(){console.log("*********** CLEARING ALL LOCATION DATA **************** ")}),3e4)}),[]),Object(n.jsxs)("div",{className:"App",children:[Object(n.jsxs)("div",{className:"options-container",children:[Object(n.jsx)("label",{children:"Please select a Location: "}),Object(n.jsx)("select",{id:"locations",onChange:function(e){console.log("onLocationChange = ",e.target.value),r(e.target.value)},defaultValue:a,children:z.map((function(e,t){return Object(n.jsx)("option",{value:e.value,children:e.name},t)}))})]}),Object(n.jsxs)("h1",{children:["Weather forecast for ",null===s||void 0===s?void 0:s.name]}),Object(n.jsx)(K,{}),Object(n.jsx)(F,{locationId:a})]})},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,347)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(i.a,{store:C,children:Object(n.jsx)(M,{})})}),document.getElementById("root")),Y()}},[[339,1,2]]]);
//# sourceMappingURL=main.cde5225c.chunk.js.map